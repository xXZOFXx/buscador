<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busqueda</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="css/index.css">
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">ZOFLABS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">

            </div>
        </div>
    </nav>

    <!-- Full Page Image Header with Vertically Centered Content -->
    <header class="masthead">
        <div class="degradado">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12 text-center">
                        <img src="assets/z_labs.png" width="20%" class="rounded mx-auto d-block" alt="">

                        <h1 class="fw-light"><b>Busqueda concentrada de URL by<b><a href="https://www.smartekh.com/"></a>
                                        smartekh</a></b> </h1>
                        <p class="lead"> </p>
                        <p class="lead"> <b>El objetivo de este sitio es facilitar al usuario la busqueda de URL de
                                diferentes dominios en uno</b></p>


                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Escribe ip" aria-label="escribe ip"
                                aria-describedby="basic-addon2" id="ipsearch">
                            <div class="input-group-append">
                                <button class="btn btn-outline-light" id="activabtnip" type="button">Buscar</button>
                            </div>
                        </div>


                      
                           
                            

                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container Respuesta">

        <div class="row">
            <div class="col-md-4">
                                
                <div class="contenedorvirust"></div>
            
        </div>

        </div>
    </div>





    <footer class="text-center text-white" style="background-color: black;">
        <!-- Grid container -->
        <div class="container pt-4">
            <!-- Section: Social media -->
            <section class="mb-4">


                <!-- Facebook -->
                <a class="btn btn-link btn-floating btn-lg text-dark m-1"
                    href="https://www.facebook.com/ZOFLabs-107239410717424" role="button"
                    data-mdb-ripple-color="dark"><i class="fab fa-facebook-f" style="color: white;"></i></a>




                <!-- Instagram -->
                <a class="btn btn-link btn-floating btn-lg text-dark m-1" href="https://www.instagram.com/zoflabs/"
                    role="button" data-mdb-ripple-color="dark"><i class="fab fa-instagram"
                        style="color: white;"></i></a>



            </section>
            <!-- Section: Social media -->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center text-white p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2021 Copyright:
            <a class="text-white" href="https://zoflabs.com/">zoflabs.com</a>




        </div>
        <!-- Copyright -->
    </footer>



</body>
<script src="https://kit.fontawesome.com/4db3f6d2e0.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
    crossorigin="anonymous"></script>
<script>

    var now = new Date();
    var today = now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate();
    $('#fechaFin').val(today);

    $('#txtinput').val(today);

</script>



<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/jquery-3.6.3.min.js"></script>

<script>






    document.getElementById("activabtnip").addEventListener("click", virustotal);
    const aplicacion = document.querySelector(".contenedorvirust"); //se hace la referencia en donde vendrá todo el pedo 

    function virustotal() {

        let ipbusqueda = document.getElementById("ipsearch").value;


        var myHeaders = new Headers();
        myHeaders.append("X-Apikey", "ajkhjskah");

        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };

        fetch("https://www.virustotal.com/api/v3/ip_addresses/" + ipbusqueda, requestOptions)
            .then(respuesta => respuesta.json())
            .then(datos => {//haciendo iteracion



                let pais = datos['data']['attributes']['country']

                let prop = (datos['data']['attributes']['as_owner']);
                let es = (datos['data']['attributes']['whois']);

                //imprimiendo usuario en pantalla
                const p = document.createElement('p');


                p.innerHTML = ' <div class="card" style="width: 18rem;">'+
                                    +'<div class="card-body">'+
                                '<img class="img rounded d-block" src="assets/VirusTotal-nuevo-logo-2493322606.png" width="50%" alt="Card image cap">'+
                                        '<h2 class=texto-exp"> "' + pais + '" </h2>'+
                    + ' <p  class="texto-exp">"' + prop + '"</p>'+
                    + ' <p  class="texto-exp">"' + es + '"</p>'+

                                   ' </div>'+
                               ' </div>'


               





                aplicacion.appendChild(p)



                /*let string1 = "";
                let string2 = "";


                for (let property1 in datos) {
                    string1 += datos[property1];
                }

                Object.values(datos).forEach(item => { string2 += item });

                console.log(string1);


                datos.forEach(respuestaxd => {
                    console.log(datos);

                    //imprimiendo usuario en pantalla
                    const p = document.createElement('p');
                   
                 



                    p.innerHTML = '<h2 class="titulo"> "' + respuestaxd.country + '" </h2>'
                        + ' <p  class="texto-exp">"' + respuestaxd.network + '"</p>' 




                    aplicacion.appendChild(p)

                    console.log(respuestaxd);

                });
*/


            }).catch(error => console.log("error 1 en fetch" + error))

        //.then(result => console.log(result)) 
        //.catch(error => console.log('error', error));


    }


</script>

</html>